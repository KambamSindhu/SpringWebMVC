-------------------------Binding class--------------------------
package in.ashokit.entity;

import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

import lombok.Data;

@Data
public class Student {
   
	private String name;
	private String email;
	private String gender;
	private String course;
	private String[] timings;
}
-------------------------Entity class--------------------------
package in.ashokit.entity;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.Table;

import lombok.Data;

@Data
@Entity
@Table(name="student_enquiries")
public class StudentEntity {
  
	 
		@Id
		@GeneratedValue(strategy=GenerationType.IDENTITY)
		private Integer sid;
	private String name;
	private String email;
	private String gender;
	private String course;
	private String timings;
}

-------------------------StudentRepository --------------------------
package in.ashokit.repository;

import org.springframework.data.jpa.repository.JpaRepository;

import  in.ashokit.entity.*;
public interface StudentRepository extends JpaRepository<StudentEntity,Integer>{

}

-------------------------StudentService --------------------------
package in.ashokit.service;

import java.util.Arrays;
import java.util.List;

import org.springframework.beans.BeanUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import in.ashokit.entity.Student;
import in.ashokit.entity.StudentEntity;
import in.ashokit.repository.StudentRepository;

@Service
public class StudentService {

	@Autowired
	private StudentRepository repo;
	
	public boolean saveStudent(Student student)
	{
		System.out.println(student);
		StudentEntity entity =new StudentEntity();
		
		BeanUtils.copyProperties(student, entity);
		entity.setTimings(Arrays.toString(student.getTimings()));
		System.out.println(entity);
		repo.save(entity);
		return true;
		
	}
	
	public List<String> getCourses()
	{
		return Arrays.asList("java","Python","AWS","DevOps");
	}
	public List<String> getTimings()
	{
		return Arrays.asList("mrng","afternoon","Eveng");
	}
}


-------------------------StudentController --------------------------
package in.ashokit.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;

import in.ashokit.entity.Student;
import in.ashokit.service.StudentService;

@Controller
public class StudentController {

	@Autowired
	private StudentService service;
	
	@GetMapping("/")
	public String loadIndexPage(Model model)
	{
		Student sobj=new Student();
		
		init(model, sobj);
		return "index";
	}

	private void init(Model model, Student sobj) {
		model.addAttribute("student",sobj);
		model.addAttribute("courses",service.getCourses());
		model.addAttribute("timings",service.getTimings());
	}
	
	@PostMapping("/save")
	public String saveStudent(Student s,Model model)
	{
		boolean  isSaved=service.saveStudent(s);
		
		if(isSaved) {model.addAttribute("msg","Data Saved...");}
		init(model, s);
		
	return "index";
	}
}

-------------------------index.jsp--------------------------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
		
		<h2>Student Enquiry Form</h2>
		<h3>${msg}</h3>
		<form:form action="save" modelAttribute="student" method="POST">
		   <table>
		   <tr>
		       <td>Name:</td>
		       <td> <form:input path="name"/></td>
		    </tr>  
		    <tr>
		       <td>Email:</td>
		       <td> <form:input path="email"/></td>
		    </tr>  
		     <tr>
		       <td>Gender:</td>
		       <td>
		       <form:radiobutton path="gender" value="M"/> Male
		        <form:radiobutton path="gender" value="F"/> FeMale
		        </td>
		       </tr>  
		        <tr>
		          <td>Course </td>
		          <td>
		            <form:select path="course">
		               		<form:option value="">--Select-- </form:option> 
		               		<form:options items="${courses}"/>
		             </form:select> 
		          </td>
		        </tr>
		        <tr>
		          <td>Timings </td>
		          <td>
		            <form:checkboxes items="${timings}" path="timings"/>
		          </td>
		        </tr>
		    <tr>
		       
		       <td> <input type="submit" value="save"/></td>
		    </tr>  
		   </table>
		</form:form>
</body>
</html>

